(self.webpackChunkcliente=self.webpackChunkcliente||[]).push([[536],{5536:(j,G,d)=>{var _=d(1245),e=d(5650),m=d(6136),p=d(2744);const f={providers:[(0,e.provideZoneChangeDetection)({eventCoalescing:!0}),(0,m.provideRouter)([]),(0,p.provideHttpClient)((0,p.withFetch)())]};var s=d(4780);function h(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",2),e.\u0275\u0275listener("click",function(){const n=e.\u0275\u0275restoreView(t).$implicit,a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.changePage(n))}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&o){const t=l.$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("active",t===i.currentPage),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",t," ")}}let x=(()=>{class o{totalPages=1;currentPage=1;pageChanged=new e.EventEmitter;getPageNumbers(){const t=[];for(let i=1;i<=this.totalPages;i++)t.push(i);return t}changePage(t){t!==this.currentPage&&this.pageChanged.emit(t)}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-pagination"]],inputs:{totalPages:"totalPages",currentPage:"currentPage"},outputs:{pageChanged:"pageChanged"},decls:2,vars:1,consts:[[1,"pagination-container"],["class","page-item",3,"active","click",4,"ngFor","ngForOf"],[1,"page-item",3,"click"]],template:function(i,n){1&i&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,h,2,3,"span",1),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(),e.\u0275\u0275property("ngForOf",n.getPageNumbers()))},dependencies:[s.CommonModule,s.NgForOf],styles:[".pagination-container[_ngcontent-%COMP%]{width:224px;height:35px;display:flex;align-items:center;justify-content:center;gap:12px;margin:12px auto 0;border-radius:4px;font-family:Inter,sans-serif;font-size:14px;font-weight:700;box-sizing:border-box}.page-item[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;border-radius:4px;transition:background-color .2s ease}.page-item[_ngcontent-%COMP%]:hover{background-color:#ec67241a}.page-item.active[_ngcontent-%COMP%]{background-color:#ec6724;color:#fff;font-weight:700}.dots[_ngcontent-%COMP%]{pointer-events:none}"]})}return o})(),g=(()=>{class o{http=(0,e.inject)(p.HttpClient);baseUrl="https://boasorte.teddybackoffice.com.br";getClientes(t=1,i=16){return this.http.get(`${this.baseUrl}/users?page=${t}&limit=${i}`)}criarCliente(t){return this.http.post(`${this.baseUrl}/users`,t)}atualizarCliente(t,i){return this.http.patch(`${this.baseUrl}/users/${t}`,i)}deletarCliente(t){return this.http.delete(`${this.baseUrl}/users/${t}`,{responseType:"text"})}static \u0275fac=function(i){return new(i||o)};static \u0275prov=e.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var r=d(4130);function v(o,l){1&o&&(e.\u0275\u0275elementStart(0,"div",17),e.\u0275\u0275text(1," Nome inv\xe1lido "),e.\u0275\u0275elementEnd())}function w(o,l){1&o&&(e.\u0275\u0275elementStart(0,"div",17),e.\u0275\u0275text(1," Sal\xe1rio inv\xe1lido "),e.\u0275\u0275elementEnd())}function y(o,l){1&o&&(e.\u0275\u0275elementStart(0,"div",17),e.\u0275\u0275text(1," Valor da empresa inv\xe1lido "),e.\u0275\u0275elementEnd())}function M(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",10,0),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(n.onSubmit())}),e.\u0275\u0275elementStart(2,"div",11)(3,"input",12,1),e.\u0275\u0275twoWayListener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275twoWayBindingSet(a.formData.name,n)||(a.formData.name=n),e.\u0275\u0275resetView(n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,v,2,0,"div",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",11)(7,"input",14,2),e.\u0275\u0275twoWayListener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275twoWayBindingSet(a.formData.salary,n)||(a.formData.salary=n),e.\u0275\u0275resetView(n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,w,2,0,"div",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",11)(11,"input",15,3),e.\u0275\u0275twoWayListener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275twoWayBindingSet(a.formData.companyValuation,n)||(a.formData.companyValuation=n),e.\u0275\u0275resetView(n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,y,2,0,"div",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",16),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd()()}if(2&o){const t=e.\u0275\u0275reference(1),i=e.\u0275\u0275reference(4),n=e.\u0275\u0275reference(8),a=e.\u0275\u0275reference(12),c=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275twoWayProperty("ngModel",c.formData.name),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.invalid&&(i.dirty||i.touched)),e.\u0275\u0275advance(2),e.\u0275\u0275twoWayProperty("ngModel",c.formData.salary),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.invalid&&(n.dirty||n.touched)),e.\u0275\u0275advance(2),e.\u0275\u0275twoWayProperty("ngModel",c.formData.companyValuation),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.invalid&&(a.dirty||a.touched)),e.\u0275\u0275advance(),e.\u0275\u0275property("disabled",t.invalid),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",c.submitButtonText," ")}}function S(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onClose())}),e.\u0275\u0275elementStart(1,"div",6),e.\u0275\u0275listener("click",function(n){return e.\u0275\u0275restoreView(t),e.\u0275\u0275resetView(n.stopPropagation())}),e.\u0275\u0275elementStart(2,"div",7)(3,"div"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"img",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onClose())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(6,M,16,8,"form",9),e.\u0275\u0275elementEnd()()}if(2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.modalTitle),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","create"===t.mode||"edit"===t.mode)}}function b(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onClose())}),e.\u0275\u0275elementStart(1,"div",18),e.\u0275\u0275listener("click",function(n){return e.\u0275\u0275restoreView(t),e.\u0275\u0275resetView(n.stopPropagation())}),e.\u0275\u0275elementStart(2,"div",7)(3,"div"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"img",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onClose())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",19)(7,"span",20),e.\u0275\u0275text(8,"Voc\xea est\xe1 prestes a excluir o cliente: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"span",21),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"button",22),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onSubmit())}),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()()()}if(2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.modalTitle),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.confirmationMessage),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.submitButtonText)}}let u=(()=>{class o{clientData=null;mode="create";closeModal=new e.EventEmitter;saveClient=new e.EventEmitter;deleteConfirm=new e.EventEmitter;formData={name:"",salary:null,companyValuation:null};isEditMode=!1;modalTitle="Criar Cliente";submitButtonText="Criar Cliente";confirmationMessage="";clienteService=(0,e.inject)(g);ngOnInit(){this.initializeModal()}ngOnChanges(t){t.clientData&&this.initializeModal()}initializeModal(){"edit"===this.mode&&this.clientData&&this.clientData.id?(this.modalTitle="Editar cliente:",this.submitButtonText="Editar cliente",this.formData={name:this.clientData.name,salary:this.clientData.salary,companyValuation:this.clientData.companyValuation},this.confirmationMessage=""):"delete"===this.mode&&this.clientData&&this.clientData.id?(this.modalTitle="Excluir cliente:",this.submitButtonText="Excluir cliente",this.formData={name:"",salary:null,companyValuation:null},this.confirmationMessage=this.clientData.name):(this.mode="create",this.modalTitle="Criar cliente:",this.submitButtonText="Criar cliente",this.formData={name:"",salary:null,companyValuation:null},this.clientData=null,this.confirmationMessage="")}onClose(){this.closeModal.emit()}onSubmit(){if("delete"===this.mode&&this.clientData&&this.clientData.id)return this.deleteConfirm.emit(this.clientData.id),void this.onClose();if("create"===this.mode||"edit"===this.mode){if(!this.formData.name||null===this.formData.salary||null===this.formData.companyValuation)return void console.error("Formul\xe1rio inv\xe1lido");const t={name:this.formData.name,salary:Number(this.formData.salary),companyValuation:Number(this.formData.companyValuation)};"edit"===this.mode&&this.clientData&&this.clientData.id?this.clienteService.atualizarCliente(this.clientData.id,t).subscribe({next:i=>{this.saveClient.emit(i),this.onClose()},error:i=>console.error("Erro ao atualizar cliente:",i)}):"create"===this.mode&&this.clienteService.criarCliente(t).subscribe({next:i=>{this.saveClient.emit(i),this.onClose()},error:i=>console.error("Erro ao criar cliente:",i)})}}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-modal-client"]],inputs:{clientData:"clientData",mode:"mode"},outputs:{closeModal:"closeModal",saveClient:"saveClient",deleteConfirm:"deleteConfirm"},features:[e.\u0275\u0275NgOnChangesFeature],decls:2,vars:2,consts:[["clientForm","ngForm"],["nameInput","ngModel"],["salaryInput","ngModel"],["companyValuationInput","ngModel"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],["src","http://localhost:4203/assets/images/close.png","alt","Adicionar",1,"close-icon",3,"click"],["style","display: contents",3,"ngSubmit",4,"ngIf"],[2,"display","contents",3,"ngSubmit"],[1,"input-wrapper"],["type","text","id","clientName","placeholder","Digite o seu nome:","name","clientName","required","",3,"ngModelChange","ngModel"],["style","display: none;",4,"ngIf"],["type","number","id","clientSalary","placeholder","Digite o sal\xe1rio:","name","clientSalary","required","","min","0",3,"ngModelChange","ngModel"],["type","number","id","clientCompanyValuation","placeholder","Digite o valor da empresa:","name","clientCompanyValuation","required","","min","0",3,"ngModelChange","ngModel"],["type","submit",1,"create-client-btn",3,"disabled"],[2,"display","none"],[1,"modal-container-excluir",3,"click"],[1,"confirmation-message"],[2,"font-family","Inter","font-weight","400","font-size","16px","line-height","100%","letter-spacing","0%"],[2,"font-family","Inter","font-weight","700","font-size","16px","line-height","100%","letter-spacing","0%","color","#000000"],["type","button",1,"create-client-btn",3,"click"]],template:function(i,n){1&i&&e.\u0275\u0275template(0,S,7,2,"div",4)(1,b,13,3,"div",4),2&i&&(e.\u0275\u0275property("ngIf","delete"!==n.mode),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf","delete"===n.mode))},dependencies:[s.CommonModule,s.NgIf,r.FormsModule,r.\u0275NgNoValidate,r.DefaultValueAccessor,r.NumberValueAccessor,r.NgControlStatus,r.NgControlStatusGroup,r.RequiredValidator,r.MinValidator,r.NgModel,r.NgForm],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0000001f;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:4px;box-shadow:0 4px 15px #0003;width:400px;height:269px;padding:20px;box-sizing:border-box;display:flex;flex-direction:column;gap:10px;position:relative}.modal-container-excluir[_ngcontent-%COMP%]{background-color:#fff;border-radius:4px;box-shadow:0 4px 15px #0003;width:400px;height:148px;padding:20px;box-sizing:border-box;display:flex;flex-direction:column;gap:10px;position:relative}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;color:#000;border-radius:4px;font-family:Inter,sans-serif;font-weight:700;font-size:16px;line-height:100%}.modal-header[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{width:12px;height:12px;font-size:12px;cursor:pointer;display:flex;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none;object-fit:cover}.input-wrapper[_ngcontent-%COMP%]{width:100%;height:40px}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;border:2px solid #D9D9D9;border-radius:4px;padding-left:20px;font-family:Inter,sans-serif;font-size:16px;box-sizing:border-box;color:#000}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#aaa}.create-client-btn[_ngcontent-%COMP%]{height:40px;border-radius:4px;background:#ec6724;border:none;color:#fff;font-weight:700;cursor:pointer;font-size:14px;line-height:100%;margin-top:10px;transition:background-color .3s}.create-client-btn[_ngcontent-%COMP%]:hover{background-color:#d45a1f}.confirmacao-massage[_ngcontent-%COMP%]{width:346;height:19;font-family:Inter;font-weight:400;font-size:16px;line-height:100%;letter-spacing:0%}"]})}return o})();function P(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",7)(1,"img",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onAdd())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"img",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onEdit())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"img",10),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onDelete())}),e.\u0275\u0275elementEnd()()}}function V(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",11)(1,"img",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onRemove())}),e.\u0275\u0275elementEnd()()}}function E(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-modal-client",13),e.\u0275\u0275listener("closeModal",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.closeModal())}),e.\u0275\u0275elementEnd()}}let z=(()=>{class o{cliente;mode="default";addRequest=new e.EventEmitter;editRequest=new e.EventEmitter;deleteRequest=new e.EventEmitter;removeRequest=new e.EventEmitter;showModal=!1;onAdd(){this.addRequest.emit(this.cliente)}onEdit(){this.editRequest.emit(this.cliente)}closeModal(){this.showModal=!1}onDelete(){this.deleteRequest.emit(this.cliente)}onRemove(){this.removeRequest.emit(this.cliente)}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-card-client"]],inputs:{cliente:"cliente",mode:"mode"},outputs:{addRequest:"addRequest",editRequest:"editRequest",deleteRequest:"deleteRequest",removeRequest:"removeRequest"},decls:12,vars:12,consts:[[1,"card-client"],[1,"client-name"],[1,"client-salary"],[1,"client-company"],["class","icons",4,"ngIf"],["class","icons-minus",4,"ngIf"],[3,"closeModal",4,"ngIf"],[1,"icons"],["src","http://localhost:4203/assets/images/plus.png","alt","Adicionar",1,"icon","plus",3,"click"],["src","http://localhost:4203/assets/images/pencil.png","alt","Editar",1,"icon","pencil",3,"click"],["src","http://localhost:4203/assets/images/trash.png","alt","Excluir",1,"icon","trash",3,"click"],[1,"icons-minus"],["src","http://localhost:4203/assets/images/minus.png","alt","Remover",1,"icon","plus",3,"click"],[3,"closeModal"]],template:function(i,n){1&i&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"currency"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",3),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"currency"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,P,4,0,"div",4)(10,V,2,0,"div",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,E,1,0,"app-modal-client",6)),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.cliente.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("Sal\xe1rio: ",e.\u0275\u0275pipeBind2(5,6,n.cliente.salary,"BRL"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("Empresa: ",e.\u0275\u0275pipeBind2(8,9,n.cliente.companyValuation,"BRL"),""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","default"===n.mode),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf","default"!==n.mode),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.showModal))},dependencies:[s.CommonModule,s.NgIf,s.CurrencyPipe,r.FormsModule,u],styles:[".card-client[_ngcontent-%COMP%]{width:285px;height:138px;background:#fff;border-radius:4px;box-shadow:0 0 4px #0000001a;padding:16px;font-family:Inter,sans-serif;display:flex;flex-direction:column;align-items:center;justify-content:space-between;box-sizing:border-box}.client-name[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:#000;line-height:100%}.client-salary[_ngcontent-%COMP%], .client-company[_ngcontent-%COMP%]{font-weight:400;font-size:14px;color:#000;line-height:100%;margin-top:6px}.icons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;padding:0 16px;margin-top:8px}.icon[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.icon.plus[_ngcontent-%COMP%]{width:17px;height:17px}.icons-minus[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;align-items:center;padding:0 16px;margin-top:8px}.icon.trash[_ngcontent-%COMP%]{filter:invert(24%) sepia(87%) saturate(6481%) hue-rotate(357deg) brightness(101%) contrast(120%)}"]})}return o})();function T(o,l){if(1&o&&(e.\u0275\u0275elementStart(0,"option",13),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=l.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(t)}}function D(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",6)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",7)(4,"label",8),e.\u0275\u0275text(5,"Clientes por p\xe1gina:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",9)(7,"select",10),e.\u0275\u0275twoWayListener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(a.selectedPageSize,n)||(a.selectedPageSize=n),e.\u0275\u0275resetView(n)}),e.\u0275\u0275listener("change",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onPageSizeChange())}),e.\u0275\u0275template(8,T,2,2,"option",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"span",12),e.\u0275\u0275text(10,"\u25be"),e.\u0275\u0275elementEnd()()()()}if(2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.totalClients," clientes encontrados:"),e.\u0275\u0275advance(5),e.\u0275\u0275twoWayProperty("ngModel",t.selectedPageSize),e.\u0275\u0275advance(),e.\u0275\u0275property("ngForOf",t.pageSizeOptions)}}function k(o,l){1&o&&(e.\u0275\u0275elementStart(0,"div",6)(1,"span",14),e.\u0275\u0275text(2,"Cliente selecionados:"),e.\u0275\u0275elementEnd()())}function I(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-card-client",15),e.\u0275\u0275listener("addRequest",function(n){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onAddToSelected(n))})("removeRequest",function(n){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onRemoveFromSelected(n))})("editRequest",function(n){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.openModalForEdit(n))})("deleteRequest",function(n){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.openModalForDelete(n))}),e.\u0275\u0275elementEnd()}if(2&o){const t=l.$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275property("cliente",t)("mode",i.mode)}}function O(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.openModalForCreate())}),e.\u0275\u0275elementStart(1,"button"),e.\u0275\u0275text(2,"Criar cliente"),e.\u0275\u0275elementEnd()()}}function R(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onClearSelected())}),e.\u0275\u0275elementStart(1,"button"),e.\u0275\u0275text(2,"Limpar clientes selecionados"),e.\u0275\u0275elementEnd()()}}function F(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-modal-client",17),e.\u0275\u0275listener("closeModal",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.handleCloseModal())})("deleteConfirm",function(n){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.handleDeleteConfirm(n))})("saveClient",function(n){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.handleSaveClient(n))}),e.\u0275\u0275elementEnd()}if(2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("clientData",t.selectedClientData)("mode",t.currentModalMode)}}let q=(()=>{class o{page=1;pageSize=16;mode="default";showPagination=!0;showPageSizeSelector=!0;isSelected=!1;pageChanged=new e.EventEmitter;totalPagesChange=new e.EventEmitter;pageSizeChange=new e.EventEmitter;pageSizeOptions=[8,12,16,24,32];selectedPageSize=16;totalClients=0;totalPages=0;currentPage=1;clientes=[];showClientModal=!1;selectedClientData=null;currentModalMode="create";removedClientIds=new Set;idsSelected=[];clienteService=(0,e.inject)(g);constructor(){}ngOnInit(){this.pageSize&&this.pageSizeOptions.includes(this.pageSize)&&(this.selectedPageSize=this.pageSize)}ngOnChanges(t){let i=!1;this.loadClientes(),t.page&&this.currentPage!==t.page.currentValue&&(this.currentPage=t.page.currentValue,i=!0),t.pageSize&&this.selectedPageSize!==t.pageSize.currentValue&&(this.selectedPageSize=t.pageSize.currentValue,i=!0),i&&this.loadClientes()}loadClientes(){this.clienteService.getClientes(this.currentPage,this.selectedPageSize).subscribe({next:t=>{this.clientes=this.isSelected?t.clients.filter(i=>this.idsSelected?.includes(i.id)):t.clients,this.totalPages=t.totalPages,t.currentPage&&(this.currentPage=t.currentPage),this.totalClients=t.clients.length,this.totalPagesChange.emit(this.totalPages)},error:t=>console.error("Erro ao carregar clientes:",t)})}onPageChange(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.pageChanged.emit(this.currentPage),this.loadClientes())}onPageSizeChange(){this.currentPage=1,this.pageChanged.emit(this.currentPage),this.pageSizeChange.emit(this.selectedPageSize),this.loadClientes()}openModalForCreate(){this.selectedClientData=null,this.currentModalMode="create",this.showClientModal=!0}openModalForEdit(t){this.selectedClientData={...t},this.currentModalMode="edit",this.showClientModal=!0}openModalForDelete(t){this.selectedClientData={...t},this.currentModalMode="delete",this.showClientModal=!0}handleCloseModal(){this.showClientModal=!1,this.selectedClientData=null}handleSaveClient(t){this.loadClientes(),this.handleCloseModal()}handleDeleteConfirm(t){this.clienteService.deletarCliente(t).subscribe({next:()=>{this.loadClientes()},error:i=>console.error(`Erro ao deletar cliente ${t}:`,i)})}onAddToSelected(t){this.idsSelected.push(t.id)}onRemoveFromSelected(t){const i=this.idsSelected.findIndex(n=>n==t.id);this.idsSelected.splice(i,1),this.loadClientes()}onClearSelected(){this.idsSelected=[],this.loadClientes()}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-grid-client"]],inputs:{page:"page",pageSize:"pageSize",mode:"mode",showPagination:"showPagination",showPageSizeSelector:"showPageSizeSelector",isSelected:"isSelected"},outputs:{pageChanged:"pageChanged",totalPagesChange:"totalPagesChange",pageSizeChange:"pageSizeChange"},features:[e.\u0275\u0275NgOnChangesFeature],decls:8,vars:6,consts:[[1,"client-list-container"],["class","client-list-header",4,"ngIf"],[1,"client-grid"],[3,"cliente","mode","addRequest","removeRequest","editRequest","deleteRequest",4,"ngFor","ngForOf"],["class","create-client-btn",3,"click",4,"ngIf"],[3,"clientData","mode","closeModal","deleteConfirm","saveClient",4,"ngIf"],[1,"client-list-header"],[1,"page-size-selector"],["for","pageSize"],[1,"select-wrapper"],["id","pageSize",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"custom-arrow"],[3,"value"],[1,"client-selected"],[3,"addRequest","removeRequest","editRequest","deleteRequest","cliente","mode"],[1,"create-client-btn",3,"click"],[3,"closeModal","deleteConfirm","saveClient","clientData","mode"]],template:function(i,n){1&i&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,D,11,3,"div",1)(2,k,3,0,"div",1),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275template(4,I,1,2,"app-card-client",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,O,3,0,"div",4)(6,R,3,0,"div",4)(7,F,1,2,"app-modal-client",5),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf","default"===n.mode),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf","selection"===n.mode),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n.clientes),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf","default"===n.mode),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf","selection"===n.mode),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.showClientModal))},dependencies:[s.CommonModule,s.NgForOf,s.NgIf,r.FormsModule,r.NgSelectOption,r.\u0275NgSelectMultipleOption,r.SelectControlValueAccessor,r.NgControlStatus,r.NgModel,z,u],styles:[".client-list-container[_ngcontent-%COMP%]{width:1200px;background-color:#f5f5f5;box-sizing:border-box;display:flex;flex-direction:column;gap:16px;margin:0 auto}.client-list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 7px;font-family:Inter,sans-serif;font-size:18px;box-sizing:border-box;margin-top:25px;height:14px}.client-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,285px);gap:18px;width:1200px;margin:0 auto;justify-content:center;box-sizing:border-box}.create-client-btn[_ngcontent-%COMP%]{width:1200px;height:40px;border:2px solid #EC6724;border-radius:4px;display:flex;align-items:center;justify-content:center;margin:0 auto;box-sizing:border-box;cursor:pointer;transition:background-color .3s ease}.create-client-btn[_ngcontent-%COMP%]:hover{background-color:#ec67241a}.create-client-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:700;font-size:14px;line-height:100%;letter-spacing:0%;background:none;border:none;color:#ec6724;cursor:pointer}.page-size-selector[_ngcontent-%COMP%]{display:flex;align-items:center;font-family:Inter,sans-serif;font-size:18px;font-weight:400;gap:8px}.select-wrapper[_ngcontent-%COMP%]{position:relative;width:60px;height:25px;border:1px solid #D9D9D9;border-radius:4px;padding:0 8px;box-sizing:border-box;display:flex;align-items:center;justify-content:space-between;background-color:#fff;cursor:pointer}.select-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{appearance:none;border:none;outline:none;font-size:14px;font-family:Inter,sans-serif;background:transparent;width:100%;cursor:pointer;padding-right:16px}.custom-arrow[_ngcontent-%COMP%]{position:absolute;right:8px;font-size:10px;pointer-events:none}.client-selected[_ngcontent-%COMP%]{width:245;height:27;font-family:Inter;font-weight:700;font-size:22px;line-height:100%;letter-spacing:0%;color:#000}"]})}return o})();(0,_.bootstrapApplication)((()=>{class o{activedRoute;title="cliente";currentPage=1;selectedPageSize=16;totalPages=1;selected=!1;constructor(t){this.activedRoute=t,this.activedRoute.queryParams.subscribe(i=>{this.selected=i?.selected})}onPageChange(t){this.currentPage=t}updateTotalPages(t){this.totalPages=t}onPageSizeChange(t){this.selectedPageSize=t,this.currentPage=1}static \u0275fac=function(i){return new(i||o)(e.\u0275\u0275directiveInject(m.ActivatedRoute))};static \u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-root"]],decls:2,vars:6,consts:[[3,"pageSizeChange","totalPagesChange","mode","page","pageSize","isSelected"],[3,"pageChanged","totalPages","currentPage"]],template:function(i,n){1&i&&(e.\u0275\u0275elementStart(0,"app-grid-client",0),e.\u0275\u0275listener("pageSizeChange",function(c){return n.onPageSizeChange(c)})("totalPagesChange",function(c){return n.updateTotalPages(c)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"app-pagination",1),e.\u0275\u0275listener("pageChanged",function(c){return n.onPageChange(c)}),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275property("mode",n.selected?"selection":"default")("page",n.currentPage)("pageSize",n.selectedPageSize)("isSelected",n.selected),e.\u0275\u0275advance(),e.\u0275\u0275property("totalPages",n.totalPages)("currentPage",n.currentPage))},dependencies:[s.CommonModule,q,x],encapsulation:2})}return o})(),f).catch(o=>console.error(o))}}]);