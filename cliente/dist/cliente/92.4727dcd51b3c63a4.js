(self.webpackChunkcliente=self.webpackChunkcliente||[]).push([[92],{92:(D,P,i)=>{i.r(P),i.d(P,{AppComponent:()=>_});var f=i(3021),M=i(3799),t=i(4780),C=i(5650),x=i(6136);let _=(()=>{class u{activedRoute;title="cliente";currentPage=1;selectedPageSize=16;totalPages=1;selected=!1;constructor(m){this.activedRoute=m,this.activedRoute.queryParams.subscribe(E=>{this.selected=E?.selected})}onPageChange(m){this.currentPage=m}updateTotalPages(m){this.totalPages=m}onPageSizeChange(m){this.selectedPageSize=m,this.currentPage=1}static \u0275fac=function(E){return new(E||u)(C.\u0275\u0275directiveInject(x.ActivatedRoute))};static \u0275cmp=C.\u0275\u0275defineComponent({type:u,selectors:[["app-root"]],decls:2,vars:6,consts:[[3,"pageSizeChange","totalPagesChange","mode","page","pageSize","isSelected"],[3,"pageChanged","totalPages","currentPage"]],template:function(E,g){1&E&&(C.\u0275\u0275elementStart(0,"app-grid-client",0),C.\u0275\u0275listener("pageSizeChange",function(d){return g.onPageSizeChange(d)})("totalPagesChange",function(d){return g.updateTotalPages(d)}),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(1,"app-pagination",1),C.\u0275\u0275listener("pageChanged",function(d){return g.onPageChange(d)}),C.\u0275\u0275elementEnd()),2&E&&(C.\u0275\u0275property("mode",g.selected?"selection":"default")("page",g.currentPage)("pageSize",g.selectedPageSize)("isSelected",g.selected),C.\u0275\u0275advance(),C.\u0275\u0275property("totalPages",g.totalPages)("currentPage",g.currentPage))},dependencies:[t.CommonModule,M.z,f.e],encapsulation:2})}return u})()},3021:(D,P,i)=>{i.d(P,{e:()=>p});var f=i(4780),t=i(5650);function C(x,h){if(1&x){const _=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",2),t.\u0275\u0275listener("click",function(){const y=t.\u0275\u0275restoreView(_).$implicit,m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.changePage(y))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&x){const _=h.$implicit,u=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("active",_===u.currentPage),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",_," ")}}let p=(()=>{class x{totalPages=1;currentPage=1;pageChanged=new t.EventEmitter;getPageNumbers(){const _=[];for(let u=1;u<=this.totalPages;u++)_.push(u);return _}changePage(_){_!==this.currentPage&&this.pageChanged.emit(_)}static \u0275fac=function(u){return new(u||x)};static \u0275cmp=t.\u0275\u0275defineComponent({type:x,selectors:[["app-pagination"]],inputs:{totalPages:"totalPages",currentPage:"currentPage"},outputs:{pageChanged:"pageChanged"},decls:2,vars:1,consts:[[1,"pagination-container"],["class","page-item",3,"active","click",4,"ngFor","ngForOf"],[1,"page-item",3,"click"]],template:function(u,y){1&u&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,C,2,3,"span",1),t.\u0275\u0275elementEnd()),2&u&&(t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",y.getPageNumbers()))},dependencies:[f.CommonModule,f.NgForOf],styles:[".pagination-container[_ngcontent-%COMP%]{width:224px;height:35px;display:flex;align-items:center;justify-content:center;gap:12px;margin:12px auto 0;border-radius:4px;font-family:Inter,sans-serif;font-size:14px;font-weight:700;box-sizing:border-box}.page-item[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;border-radius:4px;transition:background-color .2s ease}.page-item[_ngcontent-%COMP%]:hover{background-color:#ec67241a}.page-item.active[_ngcontent-%COMP%]{background-color:#ec6724;color:#fff;font-weight:700}.dots[_ngcontent-%COMP%]{pointer-events:none}"]})}return x})()},3799:(D,P,i)=>{i.d(P,{z:()=>r});var f=i(8281),M=i(4780),e=i(5650),p=i(4130),h=i(5079),_=i(6131);function u(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"option",13),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const n=a.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(n)}}function y(o,a){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",6)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",7)(4,"label",8),e.\u0275\u0275text(5,"Clientes por p\xe1gina:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",9)(7,"select",10),e.\u0275\u0275twoWayListener("ngModelChange",function(c){e.\u0275\u0275restoreView(n);const v=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(v.selectedPageSize,c)||(v.selectedPageSize=c),e.\u0275\u0275resetView(c)}),e.\u0275\u0275listener("change",function(){e.\u0275\u0275restoreView(n);const c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.onPageSizeChange())}),e.\u0275\u0275template(8,u,2,2,"option",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"span",12),e.\u0275\u0275text(10,"\u25be"),e.\u0275\u0275elementEnd()()()()}if(2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",n.totalClients," clientes encontrados:"),e.\u0275\u0275advance(5),e.\u0275\u0275twoWayProperty("ngModel",n.selectedPageSize),e.\u0275\u0275advance(),e.\u0275\u0275property("ngForOf",n.pageSizeOptions)}}function m(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div",6)(1,"span",14),e.\u0275\u0275text(2,"Cliente selecionados:"),e.\u0275\u0275elementEnd()())}function E(o,a){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-card-client",15),e.\u0275\u0275listener("addRequest",function(c){e.\u0275\u0275restoreView(n);const v=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(v.onAddToSelected(c))})("removeRequest",function(c){e.\u0275\u0275restoreView(n);const v=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(v.onRemoveFromSelected(c))})("editRequest",function(c){e.\u0275\u0275restoreView(n);const v=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(v.openModalForEdit(c))})("deleteRequest",function(c){e.\u0275\u0275restoreView(n);const v=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(v.openModalForDelete(c))}),e.\u0275\u0275elementEnd()}if(2&o){const n=a.$implicit,s=e.\u0275\u0275nextContext();e.\u0275\u0275property("cliente",n)("mode",s.mode)}}function g(o,a){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.openModalForCreate())}),e.\u0275\u0275elementStart(1,"button"),e.\u0275\u0275text(2,"Criar cliente"),e.\u0275\u0275elementEnd()()}}function l(o,a){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.onClearSelected())}),e.\u0275\u0275elementStart(1,"button"),e.\u0275\u0275text(2,"Limpar clientes selecionados"),e.\u0275\u0275elementEnd()()}}function d(o,a){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-modal-client",17),e.\u0275\u0275listener("closeModal",function(){e.\u0275\u0275restoreView(n);const c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.handleCloseModal())})("deleteConfirm",function(c){e.\u0275\u0275restoreView(n);const v=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(v.handleDeleteConfirm(c))})("saveClient",function(c){e.\u0275\u0275restoreView(n);const v=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(v.handleSaveClient(c))}),e.\u0275\u0275elementEnd()}if(2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("clientData",n.selectedClientData)("mode",n.currentModalMode)}}let r=(()=>{class o{page=1;pageSize=16;mode="default";showPagination=!0;showPageSizeSelector=!0;isSelected=!1;pageChanged=new e.EventEmitter;totalPagesChange=new e.EventEmitter;pageSizeChange=new e.EventEmitter;pageSizeOptions=[8,12,16,24,32];selectedPageSize=16;totalClients=0;totalPages=0;currentPage=1;clientes=[];showClientModal=!1;selectedClientData=null;currentModalMode="create";removedClientIds=new Set;idsSelected=[];clienteService=(0,e.inject)(f.T);constructor(){}ngOnInit(){this.pageSize&&this.pageSizeOptions.includes(this.pageSize)&&(this.selectedPageSize=this.pageSize)}ngOnChanges(n){let s=!1;this.loadClientes(),n.page&&this.currentPage!==n.page.currentValue&&(this.currentPage=n.page.currentValue,s=!0),n.pageSize&&this.selectedPageSize!==n.pageSize.currentValue&&(this.selectedPageSize=n.pageSize.currentValue,s=!0),s&&this.loadClientes()}loadClientes(){this.clienteService.getClientes(this.currentPage,this.selectedPageSize).subscribe({next:n=>{this.clientes=this.isSelected?n.clients.filter(s=>this.idsSelected?.includes(s.id)):n.clients,this.totalPages=n.totalPages,n.currentPage&&(this.currentPage=n.currentPage),this.totalClients=n.clients.length,this.totalPagesChange.emit(this.totalPages)},error:n=>console.error("Erro ao carregar clientes:",n)})}onPageChange(n){n>=1&&n<=this.totalPages&&(this.currentPage=n,this.pageChanged.emit(this.currentPage),this.loadClientes())}onPageSizeChange(){this.currentPage=1,this.pageChanged.emit(this.currentPage),this.pageSizeChange.emit(this.selectedPageSize),this.loadClientes()}openModalForCreate(){this.selectedClientData=null,this.currentModalMode="create",this.showClientModal=!0}openModalForEdit(n){this.selectedClientData={...n},this.currentModalMode="edit",this.showClientModal=!0}openModalForDelete(n){this.selectedClientData={...n},this.currentModalMode="delete",this.showClientModal=!0}handleCloseModal(){this.showClientModal=!1,this.selectedClientData=null}handleSaveClient(n){this.loadClientes(),this.handleCloseModal()}handleDeleteConfirm(n){this.clienteService.deletarCliente(n).subscribe({next:()=>{this.loadClientes()},error:s=>console.error(`Erro ao deletar cliente ${n}:`,s)})}onAddToSelected(n){this.idsSelected.push(n.id)}onRemoveFromSelected(n){const s=this.idsSelected.findIndex(c=>c==n.id);this.idsSelected.splice(s,1),this.loadClientes()}onClearSelected(){this.idsSelected=[],this.loadClientes()}static \u0275fac=function(s){return new(s||o)};static \u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-grid-client"]],inputs:{page:"page",pageSize:"pageSize",mode:"mode",showPagination:"showPagination",showPageSizeSelector:"showPageSizeSelector",isSelected:"isSelected"},outputs:{pageChanged:"pageChanged",totalPagesChange:"totalPagesChange",pageSizeChange:"pageSizeChange"},features:[e.\u0275\u0275NgOnChangesFeature],decls:8,vars:6,consts:[[1,"client-list-container"],["class","client-list-header",4,"ngIf"],[1,"client-grid"],[3,"cliente","mode","addRequest","removeRequest","editRequest","deleteRequest",4,"ngFor","ngForOf"],["class","create-client-btn",3,"click",4,"ngIf"],[3,"clientData","mode","closeModal","deleteConfirm","saveClient",4,"ngIf"],[1,"client-list-header"],[1,"page-size-selector"],["for","pageSize"],[1,"select-wrapper"],["id","pageSize",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"custom-arrow"],[3,"value"],[1,"client-selected"],[3,"addRequest","removeRequest","editRequest","deleteRequest","cliente","mode"],[1,"create-client-btn",3,"click"],[3,"closeModal","deleteConfirm","saveClient","clientData","mode"]],template:function(s,c){1&s&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,y,11,3,"div",1)(2,m,3,0,"div",1),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275template(4,E,1,2,"app-card-client",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,g,3,0,"div",4)(6,l,3,0,"div",4)(7,d,1,2,"app-modal-client",5),e.\u0275\u0275elementEnd()),2&s&&(e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf","default"===c.mode),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf","selection"===c.mode),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",c.clientes),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf","default"===c.mode),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf","selection"===c.mode),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",c.showClientModal))},dependencies:[M.CommonModule,M.NgForOf,M.NgIf,p.FormsModule,p.NgSelectOption,p.\u0275NgSelectMultipleOption,p.SelectControlValueAccessor,p.NgControlStatus,p.NgModel,h.$,_.q],styles:[".client-list-container[_ngcontent-%COMP%]{width:1200px;background-color:#f5f5f5;box-sizing:border-box;display:flex;flex-direction:column;gap:16px;margin:0 auto}.client-list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 7px;font-family:Inter,sans-serif;font-size:18px;box-sizing:border-box;margin-top:25px;height:14px}.client-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,285px);gap:18px;width:1200px;margin:0 auto;justify-content:center;box-sizing:border-box}.create-client-btn[_ngcontent-%COMP%]{width:1200px;height:40px;border:2px solid #EC6724;border-radius:4px;display:flex;align-items:center;justify-content:center;margin:0 auto;box-sizing:border-box;cursor:pointer;transition:background-color .3s ease}.create-client-btn[_ngcontent-%COMP%]:hover{background-color:#ec67241a}.create-client-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:700;font-size:14px;line-height:100%;letter-spacing:0%;background:none;border:none;color:#ec6724;cursor:pointer}.page-size-selector[_ngcontent-%COMP%]{display:flex;align-items:center;font-family:Inter,sans-serif;font-size:18px;font-weight:400;gap:8px}.select-wrapper[_ngcontent-%COMP%]{position:relative;width:60px;height:25px;border:1px solid #D9D9D9;border-radius:4px;padding:0 8px;box-sizing:border-box;display:flex;align-items:center;justify-content:space-between;background-color:#fff;cursor:pointer}.select-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{appearance:none;border:none;outline:none;font-size:14px;font-family:Inter,sans-serif;background:transparent;width:100%;cursor:pointer;padding-right:16px}.custom-arrow[_ngcontent-%COMP%]{position:absolute;right:8px;font-size:10px;pointer-events:none}.client-selected[_ngcontent-%COMP%]{width:245;height:27;font-family:Inter;font-weight:700;font-size:22px;line-height:100%;letter-spacing:0%;color:#000}"]})}return o})()},5079:(D,P,i)=>{i.d(P,{$:()=>y});var f=i(4780),t=i(5650),C=i(4130),x=i(6131);function h(m,E){if(1&m){const g=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",7)(1,"img",8),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(g);const d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.onAdd())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"img",9),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(g);const d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.onEdit())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"img",10),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(g);const d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.onDelete())}),t.\u0275\u0275elementEnd()()}}function _(m,E){if(1&m){const g=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",11)(1,"img",12),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(g);const d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.onRemove())}),t.\u0275\u0275elementEnd()()}}function u(m,E){if(1&m){const g=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"app-modal-client",13),t.\u0275\u0275listener("closeModal",function(){t.\u0275\u0275restoreView(g);const d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.closeModal())}),t.\u0275\u0275elementEnd()}}let y=(()=>{class m{cliente;mode="default";addRequest=new t.EventEmitter;editRequest=new t.EventEmitter;deleteRequest=new t.EventEmitter;removeRequest=new t.EventEmitter;showModal=!1;onAdd(){this.addRequest.emit(this.cliente)}onEdit(){this.editRequest.emit(this.cliente)}closeModal(){this.showModal=!1}onDelete(){this.deleteRequest.emit(this.cliente)}onRemove(){this.removeRequest.emit(this.cliente)}static \u0275fac=function(l){return new(l||m)};static \u0275cmp=t.\u0275\u0275defineComponent({type:m,selectors:[["app-card-client"]],inputs:{cliente:"cliente",mode:"mode"},outputs:{addRequest:"addRequest",editRequest:"editRequest",deleteRequest:"deleteRequest",removeRequest:"removeRequest"},decls:12,vars:12,consts:[[1,"card-client"],[1,"client-name"],[1,"client-salary"],[1,"client-company"],["class","icons",4,"ngIf"],["class","icons-minus",4,"ngIf"],[3,"closeModal",4,"ngIf"],[1,"icons"],["src","http://localhost:4203/assets/images/plus.png","alt","Adicionar",1,"icon","plus",3,"click"],["src","http://localhost:4203/assets/images/pencil.png","alt","Editar",1,"icon","pencil",3,"click"],["src","http://localhost:4203/assets/images/trash.png","alt","Excluir",1,"icon","trash",3,"click"],[1,"icons-minus"],["src","http://localhost:4203/assets/images/minus.png","alt","Remover",1,"icon","plus",3,"click"],[3,"closeModal"]],template:function(l,d){1&l&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",2),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"currency"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",3),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"currency"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,h,4,0,"div",4)(10,_,2,0,"div",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(11,u,1,0,"app-modal-client",6)),2&l&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(d.cliente.name),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("Sal\xe1rio: ",t.\u0275\u0275pipeBind2(5,6,d.cliente.salary,"BRL"),""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("Empresa: ",t.\u0275\u0275pipeBind2(8,9,d.cliente.companyValuation,"BRL"),""),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","default"===d.mode),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf","default"!==d.mode),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",d.showModal))},dependencies:[f.CommonModule,f.NgIf,f.CurrencyPipe,C.FormsModule,x.q],styles:[".card-client[_ngcontent-%COMP%]{width:285px;height:138px;background:#fff;border-radius:4px;box-shadow:0 0 4px #0000001a;padding:16px;font-family:Inter,sans-serif;display:flex;flex-direction:column;align-items:center;justify-content:space-between;box-sizing:border-box}.client-name[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:#000;line-height:100%}.client-salary[_ngcontent-%COMP%], .client-company[_ngcontent-%COMP%]{font-weight:400;font-size:14px;color:#000;line-height:100%;margin-top:6px}.icons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;padding:0 16px;margin-top:8px}.icon[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.icon.plus[_ngcontent-%COMP%]{width:17px;height:17px}.icons-minus[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;align-items:center;padding:0 16px;margin-top:8px}.icon.trash[_ngcontent-%COMP%]{filter:invert(24%) sepia(87%) saturate(6481%) hue-rotate(357deg) brightness(101%) contrast(120%)}"]})}return m})()},6131:(D,P,i)=>{i.d(P,{q:()=>g});var f=i(8281),M=i(4780),e=i(5650),p=i(4130);function h(l,d){1&l&&(e.\u0275\u0275elementStart(0,"div",17),e.\u0275\u0275text(1," Nome inv\xe1lido "),e.\u0275\u0275elementEnd())}function _(l,d){1&l&&(e.\u0275\u0275elementStart(0,"div",17),e.\u0275\u0275text(1," Sal\xe1rio inv\xe1lido "),e.\u0275\u0275elementEnd())}function u(l,d){1&l&&(e.\u0275\u0275elementStart(0,"div",17),e.\u0275\u0275text(1," Valor da empresa inv\xe1lido "),e.\u0275\u0275elementEnd())}function y(l,d){if(1&l){const r=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",10,0),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(r);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onSubmit())}),e.\u0275\u0275elementStart(2,"div",11)(3,"input",12,1),e.\u0275\u0275twoWayListener("ngModelChange",function(a){e.\u0275\u0275restoreView(r);const n=e.\u0275\u0275nextContext(2);return e.\u0275\u0275twoWayBindingSet(n.formData.name,a)||(n.formData.name=a),e.\u0275\u0275resetView(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,h,2,0,"div",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",11)(7,"input",14,2),e.\u0275\u0275twoWayListener("ngModelChange",function(a){e.\u0275\u0275restoreView(r);const n=e.\u0275\u0275nextContext(2);return e.\u0275\u0275twoWayBindingSet(n.formData.salary,a)||(n.formData.salary=a),e.\u0275\u0275resetView(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,_,2,0,"div",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",11)(11,"input",15,3),e.\u0275\u0275twoWayListener("ngModelChange",function(a){e.\u0275\u0275restoreView(r);const n=e.\u0275\u0275nextContext(2);return e.\u0275\u0275twoWayBindingSet(n.formData.companyValuation,a)||(n.formData.companyValuation=a),e.\u0275\u0275resetView(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,u,2,0,"div",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",16),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd()()}if(2&l){const r=e.\u0275\u0275reference(1),o=e.\u0275\u0275reference(4),a=e.\u0275\u0275reference(8),n=e.\u0275\u0275reference(12),s=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275twoWayProperty("ngModel",s.formData.name),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.invalid&&(o.dirty||o.touched)),e.\u0275\u0275advance(2),e.\u0275\u0275twoWayProperty("ngModel",s.formData.salary),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.invalid&&(a.dirty||a.touched)),e.\u0275\u0275advance(2),e.\u0275\u0275twoWayProperty("ngModel",s.formData.companyValuation),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.invalid&&(n.dirty||n.touched)),e.\u0275\u0275advance(),e.\u0275\u0275property("disabled",r.invalid),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",s.submitButtonText," ")}}function m(l,d){if(1&l){const r=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(r);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onClose())}),e.\u0275\u0275elementStart(1,"div",6),e.\u0275\u0275listener("click",function(a){return e.\u0275\u0275restoreView(r),e.\u0275\u0275resetView(a.stopPropagation())}),e.\u0275\u0275elementStart(2,"div",7)(3,"div"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"img",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(r);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onClose())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(6,y,16,8,"form",9),e.\u0275\u0275elementEnd()()}if(2&l){const r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(r.modalTitle),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","create"===r.mode||"edit"===r.mode)}}function E(l,d){if(1&l){const r=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(r);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onClose())}),e.\u0275\u0275elementStart(1,"div",18),e.\u0275\u0275listener("click",function(a){return e.\u0275\u0275restoreView(r),e.\u0275\u0275resetView(a.stopPropagation())}),e.\u0275\u0275elementStart(2,"div",7)(3,"div"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"img",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(r);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onClose())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",19)(7,"span",20),e.\u0275\u0275text(8,"Voc\xea est\xe1 prestes a excluir o cliente: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"span",21),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"button",22),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(r);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onSubmit())}),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()()()}if(2&l){const r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(r.modalTitle),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(r.confirmationMessage),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(r.submitButtonText)}}let g=(()=>{class l{clientData=null;mode="create";closeModal=new e.EventEmitter;saveClient=new e.EventEmitter;deleteConfirm=new e.EventEmitter;formData={name:"",salary:null,companyValuation:null};isEditMode=!1;modalTitle="Criar Cliente";submitButtonText="Criar Cliente";confirmationMessage="";clienteService=(0,e.inject)(f.T);ngOnInit(){this.initializeModal()}ngOnChanges(r){r.clientData&&this.initializeModal()}initializeModal(){"edit"===this.mode&&this.clientData&&this.clientData.id?(this.modalTitle="Editar cliente:",this.submitButtonText="Editar cliente",this.formData={name:this.clientData.name,salary:this.clientData.salary,companyValuation:this.clientData.companyValuation},this.confirmationMessage=""):"delete"===this.mode&&this.clientData&&this.clientData.id?(this.modalTitle="Excluir cliente:",this.submitButtonText="Excluir cliente",this.formData={name:"",salary:null,companyValuation:null},this.confirmationMessage=this.clientData.name):(this.mode="create",this.modalTitle="Criar cliente:",this.submitButtonText="Criar cliente",this.formData={name:"",salary:null,companyValuation:null},this.clientData=null,this.confirmationMessage="")}onClose(){this.closeModal.emit()}onSubmit(){if("delete"===this.mode&&this.clientData&&this.clientData.id)return this.deleteConfirm.emit(this.clientData.id),void this.onClose();if("create"===this.mode||"edit"===this.mode){if(!this.formData.name||null===this.formData.salary||null===this.formData.companyValuation)return void console.error("Formul\xe1rio inv\xe1lido");const r={name:this.formData.name,salary:Number(this.formData.salary),companyValuation:Number(this.formData.companyValuation)};"edit"===this.mode&&this.clientData&&this.clientData.id?this.clienteService.atualizarCliente(this.clientData.id,r).subscribe({next:o=>{this.saveClient.emit(o),this.onClose()},error:o=>console.error("Erro ao atualizar cliente:",o)}):"create"===this.mode&&this.clienteService.criarCliente(r).subscribe({next:o=>{this.saveClient.emit(o),this.onClose()},error:o=>console.error("Erro ao criar cliente:",o)})}}static \u0275fac=function(o){return new(o||l)};static \u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-modal-client"]],inputs:{clientData:"clientData",mode:"mode"},outputs:{closeModal:"closeModal",saveClient:"saveClient",deleteConfirm:"deleteConfirm"},features:[e.\u0275\u0275NgOnChangesFeature],decls:2,vars:2,consts:[["clientForm","ngForm"],["nameInput","ngModel"],["salaryInput","ngModel"],["companyValuationInput","ngModel"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],["src","http://localhost:4203/assets/images/close.png","alt","Adicionar",1,"close-icon",3,"click"],["style","display: contents",3,"ngSubmit",4,"ngIf"],[2,"display","contents",3,"ngSubmit"],[1,"input-wrapper"],["type","text","id","clientName","placeholder","Digite o seu nome:","name","clientName","required","",3,"ngModelChange","ngModel"],["style","display: none;",4,"ngIf"],["type","number","id","clientSalary","placeholder","Digite o sal\xe1rio:","name","clientSalary","required","","min","0",3,"ngModelChange","ngModel"],["type","number","id","clientCompanyValuation","placeholder","Digite o valor da empresa:","name","clientCompanyValuation","required","","min","0",3,"ngModelChange","ngModel"],["type","submit",1,"create-client-btn",3,"disabled"],[2,"display","none"],[1,"modal-container-excluir",3,"click"],[1,"confirmation-message"],[2,"font-family","Inter","font-weight","400","font-size","16px","line-height","100%","letter-spacing","0%"],[2,"font-family","Inter","font-weight","700","font-size","16px","line-height","100%","letter-spacing","0%","color","#000000"],["type","button",1,"create-client-btn",3,"click"]],template:function(o,a){1&o&&e.\u0275\u0275template(0,m,7,2,"div",4)(1,E,13,3,"div",4),2&o&&(e.\u0275\u0275property("ngIf","delete"!==a.mode),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf","delete"===a.mode))},dependencies:[M.CommonModule,M.NgIf,p.FormsModule,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.NumberValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.RequiredValidator,p.MinValidator,p.NgModel,p.NgForm],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0000001f;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:4px;box-shadow:0 4px 15px #0003;width:400px;height:269px;padding:20px;box-sizing:border-box;display:flex;flex-direction:column;gap:10px;position:relative}.modal-container-excluir[_ngcontent-%COMP%]{background-color:#fff;border-radius:4px;box-shadow:0 4px 15px #0003;width:400px;height:148px;padding:20px;box-sizing:border-box;display:flex;flex-direction:column;gap:10px;position:relative}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;color:#000;border-radius:4px;font-family:Inter,sans-serif;font-weight:700;font-size:16px;line-height:100%}.modal-header[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{width:12px;height:12px;font-size:12px;cursor:pointer;display:flex;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none;object-fit:cover}.input-wrapper[_ngcontent-%COMP%]{width:100%;height:40px}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;border:2px solid #D9D9D9;border-radius:4px;padding-left:20px;font-family:Inter,sans-serif;font-size:16px;box-sizing:border-box;color:#000}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#aaa}.create-client-btn[_ngcontent-%COMP%]{height:40px;border-radius:4px;background:#ec6724;border:none;color:#fff;font-weight:700;cursor:pointer;font-size:14px;line-height:100%;margin-top:10px;transition:background-color .3s}.create-client-btn[_ngcontent-%COMP%]:hover{background-color:#d45a1f}.confirmacao-massage[_ngcontent-%COMP%]{width:346;height:19;font-family:Inter;font-weight:400;font-size:16px;line-height:100%;letter-spacing:0%}"]})}return l})()},8281:(D,P,i)=>{i.d(P,{T:()=>C});var f=i(5650),t=i(2744);let C=(()=>{class p{http=(0,f.inject)(t.HttpClient);baseUrl="https://boasorte.teddybackoffice.com.br";getClientes(h=1,_=16){return this.http.get(`${this.baseUrl}/users?page=${h}&limit=${_}`)}criarCliente(h){return this.http.post(`${this.baseUrl}/users`,h)}atualizarCliente(h,_){return this.http.patch(`${this.baseUrl}/users/${h}`,_)}deletarCliente(h){return this.http.delete(`${this.baseUrl}/users/${h}`,{responseType:"text"})}static \u0275fac=function(_){return new(_||p)};static \u0275prov=f.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()}}]);